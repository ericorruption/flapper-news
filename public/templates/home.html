<h1 class="page-header">Flapper News</h1>

<div class="row">
    <div class="col-md-8">
        <div class="link" ng-repeat="post in posts | orderBy: '-upvotes'">
            <span ng-click="incrementUpvotes(post)" class="glyphicon glyphicon-thumbs-up"></span>

            <a ng-show="post.link" href="{{ post.link }}">{{ post.title }}</a>

            <span ng-hide="post.link">{{ post.title }}</span>

            - upvotes: {{ post.upvotes }}


            <span ng-show="post.author">
                posted by <strong>{{ post.author }}</strong> |
            </span>

            <span>
                <a href="#/posts/{{ post._id }}">Comments</a>
            </span>
        </div>
    </div>
    <div class="col-md-4">
        <form class="post-form" ng-submit="addPost()" ng-show="isLoggedIn()">
            <legend class="h3">Add a new post</legend>
            <div class="form-group">
                <input type="text" class="form-control" ng-model="title" placeholder="Title">
            </div>

            <div class="form-group">
                <input type="text" class="form-control" ng-model="link" placeholder="Link">
            </div>
            <button type="submit" class="btn btn-primary">Post</button>
        </form>

        <div ng-hide="isLoggedIn()">
            <h3>You need to <a href="/#/login">Log In</a> or <a href="/#/register">Register</a> before you can add a post.</h3>
        </div>
    </div>
</div>